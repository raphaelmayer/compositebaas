---
name: "lecture-transciption-en-de"
dataIns:
- name: "inputBucket"
  type: "string"
  source: "inputBucket"
- name: "inputFileNames"
  type: "collection"
  source: "inputFileNames"
- name: "inputLanguage"
  type: "string"
  source: "inputLanguage"
- name: "inputType"
  type: "string"
  source: "inputType"
- name: "outputLanguage"
  type: "string"
  source: "outputLanguage"
- name: "outputType"
  type: "string"
  source: "outputType"
workflowBody:
- function:
    name: "analyse"
    type: "Analyse"
    dataIns:
    - name: "inputBucket"
      type: "string"
      source: "lecture-transciption-en-de/inputBucket"
    - name: "inputFileNames"
      type: "collection"
      source: "lecture-transciption-en-de/inputFileNames"
    - name: "inputLanguage"
      type: "string"
      source: "lecture-transciption-en-de/inputLanguage"
    - name: "inputType"
      type: "string"
      source: "lecture-transciption-en-de/inputType"
    - name: "outputLanguage"
      type: "string"
      source: "lecture-transciption-en-de/outputLanguage"
    - name: "outputType"
      type: "string"
      source: "lecture-transciption-en-de/outputType"
    dataOuts:
    - name: "fileNames"
      type: "collection"
    - name: "fileCount"
      type: "number"
- parallelFor:
    name: "FirstLoop"
    type: "ParallelFor"
    dataIns:
    - name: "fileNames"
      type: "collection"
      source: "analyse/fileNames"
    dataOuts:
    - name: "fileNamesColl"
      type: "collection"
      source: "mergeText/fileNames"
    iterators:
    - "fileNames"
    loopBody:
    - function:
        name: "splitVideo"
        type: "Split"
        dataIns:
        - name: "inputBucket"
          type: "string"
          source: "lecture-transciption-en-de/inputBucket"
        - name: "fileNames"
          type: "collection"
          source: "FirstLoop/fileNames"
        dataOuts:
        - name: "fileNames"
          type: "collection"
        - name: "fileCount"
          type: "number"
    - parallelFor:
        name: "NestedLoop"
        type: "ParallelFor"
        dataIns:
        - name: "fileNames"
          type: "collection"
          source: "splitVideo/fileNames"
        dataOuts:
        - name: "fileNamesColl"
          type: "collection"
          source: "translate/fileNames"
        iterators:
        - "fileNames"
        loopBody:
        - function:
            name: "transcribe"
            type: "Transcription"
            dataIns:
            - name: "inputBucket"
              type: "string"
              source: "lecture-transciption-en-de/inputBucket"
            - name: "fileNames"
              type: "collection"
              source: "NestedLoop/fileNames"
            - name: "inputLanguage"
              type: "string"
              source: "lecture-transciption-en-de/inputLanguage"
            dataOuts:
            - name: "fileNames"
              type: "collection"
        - function:
            name: "translate"
            type: "Translation"
            dataIns:
            - name: "inputBucket"
              type: "string"
              source: "lecture-transciption-en-de/inputBucket"
            - name: "fileNames"
              type: "collection"
              source: "transcribe/fileNames"
            - name: "inputLanguage"
              type: "string"
              source: "lecture-transciption-en-de/inputLanguage"
            - name: "outputLanguage"
              type: "string"
              source: "lecture-transciption-en-de/outputLanguage"
            dataOuts:
            - name: "fileNames"
              type: "collection"
    - function:
        name: "mergeText"
        type: "Merge"
        dataIns:
        - name: "inputBucket"
          type: "string"
          source: "lecture-transciption-en-de/inputBucket"
        - name: "fileNames"
          type: "collection"
          source: "NestedLoop/fileNamesColl"
        dataOuts:
        - name: "fileNames"
          type: "collection"
dataOuts:
- name: "fileNamesColl"
  type: "collection"
  source: "FirstLoop/fileNamesColl"
